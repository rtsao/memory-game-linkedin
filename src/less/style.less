body {
  background-color: #ccc;
  margin: 0;
}

@goldenratio: 1.618;
@tableau-width: 100vw/@goldenratio;
@tableau-height: 100vh;
@scoring-height: 100vh;
@scoring-width: 100vw - @tableau-width;
@num-cols: 5;

@card-width: (@tableau-width - 10%)/@num-cols;
@card-height: (100vh)/@num-cols;


.tableau {
  width: @tableau-width;
  height: @tableau-height;
  background-color: blue;
}

.scoring {
  width: @scoring-width;
  height: @scoring-height;
  background-color: red;
}

.game {
  display: flex;
  flex-direction: row;
}

.container {
  width: @card-width;
  height: @card-height;
  position: relative;
  perspective: 800px;
  margin: 0;
  position: absolute;
}

.carda {
  cursor: pointer;
  width: 100%;
  height: 100%;
  position: absolute;
  transform-style: preserve-3d;
  user-select: none;
  transform-origin: right center;
  //transition: transform 300ms;
  
  &.flipped-remove {
    .unflip;
    //animation-play-state: paused;
  }

  &.flipped-add, &.flipped {
    .flip;
    //transform: translateX( -100% ) rotateY( -180deg );

    &:hover {
      //transform: translateX( -100% ) rotateY( -180deg );
    }
  }

  &:hover {
    //transition: transform 300ms;
    //transform: translateX( 0% ) rotateY( 5deg );
  }

  &-face {
    backface-visibility: hidden;
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    box-sizing: border-box;
    border-radius: 0.5vmax;
    border: 0.5vmax solid #fefefe;

    &.back {
      background-color: #6d695c;
      background-image:
      linear-gradient(60deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1)),
      linear-gradient(120deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1));
      background-size: 2.1vmax 3.6vmax;
    }

    &.front {
      background-color: #fefefe;
      transform: rotateY( 180deg );
      text-align: center;
      font-size: 1.5vmax;

    }

    img {
      max-width: 100%;
      max-height: 100%;
    }

  }


}

.tang {
  position: relative;
  top: 50%;
  margin: 0;
  transform: translateY(-50%);
}

@keyframes flip {
  0% {
    transform: translateX( 0 ) rotateY( 0 );
  }
  20% {
    transform: translateX( 5% ) rotateY( -10deg );
  }
  100% {
    transform: translateX( -100% ) rotateY( -180deg );
  }
}

@keyframes unflip {
  from {
    transform: translateX( -100% ) rotateY( -180deg );
  }
  to {
    transform: translateX( 0 ) rotateY( 0 );
  }
}

.flip {
  animation: flip 600ms ease-in-out;
  animation-fill-mode: both;
}

.unflip {
  animation: unflip 600ms ease;
  animation-fill-mode: forwards;
}
